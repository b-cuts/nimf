What is Dasom?
-------------
Dasom is an input method framework.
Now we can test Dasom.


INSTALL
-------

  Compile

    ./autogen.sh
    make
    sudo make install
    sudo ldconfig

  Update your gtk module cache

  debian / ubuntu 32-bit

    sudo /usr/lib/i386-linux-gnu/libgtk-3-0/gtk-query-immodules-3.0 --update-cache
    sudo /usr/lib/i386-linux-gnu/libgtk2.0-0/gtk-query-immodules-2.0 --update-cache

  debian / ubuntu64-bit

    sudo /usr/lib/x86_64-linux-gnu/libgtk-3-0/gtk-query-immodules-3.0 --update-cache
    sudo /usr/lib/x86_64-linux-gnu/libgtk2.0-0/gtk-query-immodules-2.0 --update-cache

  Configuration im-config

    im-config

  Then, select Dasom, logout and login.


Architecture
------------


      +- a process ---+    +--- each processes ----+  +- a process --+
      | gtk im module |    | gnome-shell-extension |  |   X server   |
      +---------------+    | dasom-indicator       |  +--------------+
              |            +-----------------------+         ^ |
              |                        |                     | |
              | calls                  | calls               | |
              |                        |                     | |
    +------------------+    +---------------------+          | |
    | dasom IM library |    | dasom agent library |          | | communicates
    +------------------+    +---------------------+          | |
             ^ |                      ^ |                    | |
             | |   communicates       | |                    | |
             | |   via Unix Socket    | |                    | |
             | v                      | v                    | v
          +---------------------- a process ----------------------+
          |                     dasom-daemon (including XIM)      |
          +-------------------------------------------------------+
                          |                        |
                          | calls                  | calls
                          | singleton instance     |
                +---------------+            +------------------+
                | engine module |            | candidate module |
                |   interface   |            |    interface     |
                +---------------+            +------------------+
                  |                            |
                  +- dasom-english             +- dasom-candidate-gtk3
                  +- dasom-jeongeum


Debugging
---------
    sudo /usr/lib/x86_64-linux-gnu/libgtk-3-0/gtk-query-immodules-3.0 --update-cache
    sudo /usr/lib/x86_64-linux-gnu/libgtk2.0-0/gtk-query-immodules-2.0 --update-cache
    export GTK_IM_MODULE="dasom"
    export G_MESSAGES_DEBUG=dasom
    export XMODIFIERS="@im=dasom"
    gedit


References
----------
  http://www.x.org/releases/X11R7.6/doc/libX11/specs/XIM/xim.html
  https://github.com/choehwanjin/nabi
  https://git.gnome.org/browse/gtk+
  https://github.com/ibus
  http://docs.enlightenment.org/auto/efl/ecore_main.html
  http://www.w3.org/TR/ime-api/
  https://developer.chrome.com/extensions/input_ime
  http://doc.qt.io/qt-5/qinputmethod.html
